webshims.register("form-datalist",function(e,t,n,r,i,s){"use strict";var o=function(e){e&&"string"==typeof e||(e="DOM"),o[e+"Loaded"]||(o[e+"Loaded"]=!0,t.ready(e,function(){t.loader.loadList(["form-datalist-lazy"])}))},u={submit:1,button:1,reset:1,hidden:1,range:1,date:1,month:1};t.modules["form-number-date-ui"].loaded&&e.extend(u,{number:1,time:1}),t.propTypes.element=function(n){t.createPropDefault(n,"attr"),n.prop||(n.prop={get:function(){var t=e.attr(this,"list");return t&&(t=r.getElementById(t),t&&n.propNodeName&&!e.nodeName(t,n.propNodeName)&&(t=null)),t||null},writeable:!1})},function(){var f=e.webshims.cfg.forms,l=Modernizr.input.list;if(!l||f.customDatalist){var c=function(){var n={autocomplete:{attr:{get:function(){var t=this,n=e.data(t,"datalistWidget");return n?n._autocomplete:"autocomplete"in t?t.autocomplete:t.getAttribute("autocomplete")},set:function(t){var n=this,r=e.data(n,"datalistWidget");r?(r._autocomplete=t,"off"==t&&r.hideList()):"autocomplete"in n?n.autocomplete=t:n.setAttribute("autocomplete",t)}}}};l&&((e("<datalist><select><option></option></select></datalist>").prop("options")||[]).length||t.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var t=this.options||[];if(!t.length){var n=this,r=e("select",n);r[0]&&r[0].options&&r[0].options.length&&(t=r[0].options)}return t}}}),n.list={attr:{get:function(){var n=t.contentAttr(this,"list");return null!=n?(e.data(this,"datalistListAttr",n),u[e.prop(this,"type")]||u[e.attr(this,"type")]||this.removeAttribute("list")):n=e.data(this,"datalistListAttr"),null==n?i:n},set:function(n){var r=this;e.data(r,"datalistListAttr",n),u[e.prop(this,"type")]||u[e.attr(this,"type")]?r.setAttribute("list",n):t.objectCreate(h,i,{input:r,id:n,datalist:e.prop(r,"list")}),e(r).triggerHandler("listdatalistchange")}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"}),t.defineNodeNameProperties("input",n),t.addReady(function(t,n){n.filter("datalist > select, datalist, datalist > option, datalist > select > option").closest("datalist").each(function(){e(this).triggerHandler("updateDatalist")})})},h={_create:function(n){if(!u[e.prop(n.input,"type")]&&!u[e.attr(n.input,"type")]){var r=n.datalist,s=e.data(n.input,"datalistWidget"),f=this;return r&&s&&s.datalist!==r?(s.datalist=r,s.id=n.id,e(s.datalist).off("updateDatalist.datalistWidget").on("updateDatalist.datalistWidget",e.proxy(s,"_resetListCached")),s._resetListCached(),i):r?(s&&s.datalist===r||(this.datalist=r,this.id=n.id,this.hasViewableData=!0,this._autocomplete=e.attr(n.input,"autocomplete"),e.data(n.input,"datalistWidget",this),o("WINDOWLOAD"),t.isReady("form-datalist-lazy")?this._lazyCreate(n):(e(n.input).one("focus",o),t.ready("form-datalist-lazy",function(){f._destroyed||f._lazyCreate(n)}))),i):(s&&s.destroy(),i)}},destroy:function(t){var s,o=e.attr(this.input,"autocomplete");e(this.input).off(".datalistWidget").removeData("datalistWidget"),this.shadowList.remove(),e(r).off(".datalist"+this.id),e(n).off(".datalist"+this.id),this.input.form&&this.input.id&&e(this.input.form).off("submit.datalistWidget"+this.input.id),this.input.removeAttribute("aria-haspopup"),o===i?this.input.removeAttribute("autocomplete"):e(this.input).attr("autocomplete",o),t&&"beforeunload"==t.type&&(s=this.input,setTimeout(function(){e.attr(s,"list",e.attr(s,"list"))},9)),this._destroyed=!0}};t.loader.addModule("form-datalist-lazy",{noAutoCallback:!0,options:e.extend(s,{shadowListProto:h})}),c()}}()});