webshims.register("form-validators",function(e,t,n,r){"use strict";(function(){t.refreshCustomValidityRules&&t.error("form-validators already included. please remove custom-validity.js");var n,i,s={},o=!1,u=function(e){t.refreshCustomValidityRules(e.target)},a=function(){return!a.types[this.type]};a.types={hidden:1,image:1,button:1,reset:1,submit:1},t.customErrorMessages={},t.addCustomValidityRule=function(n,r,i){s[n]=r,t.customErrorMessages[n]||(t.customErrorMessages[n]=[],t.customErrorMessages[n][""]=i||n),o&&e("input, select, textarea").filter(a).each(function(){f(this)})},t.refreshCustomValidityRules=function(r){if(i){var o=e(r).data()||e.data(r,{}),u=o.customMismatchedRule,a=e.prop(r,"validity")||{},f="",l=function(i,s){n=!0,o.customMismatchedRule=i?s:"","string"!=typeof i&&(i=e(r).data("errormessage")||r.getAttribute("x-moz-errormessage")||t.customErrorMessages[s][t.activeLang()]||t.customErrorMessages[s][""]),"object"==typeof i&&(i=i[s]||i.customError||i.defaultMessage),e(r).setCustomValidity(i),n=!1};if(u||a.valid||o.dependentValidation&&!o.dependentValidation._init){var c=e(r).val();e.each(s,function(e,t){return f=t(r,c,o,l)||"",u=e,f?!1:undefined}),"async"!=f&&l(f,u)}return f}};var f=t.refreshCustomValidityRules;t.ready("forms form-validation",function(){e.propHooks.setCustomValidity={get:function(t){return n||e.data(t,"customMismatchedRule",""),null}},setTimeout(function(){t.addReady(function(t,n){i=!0,e("input, select, textarea",t).add(n.filter("input, select, textarea")).filter(a).each(function(){f(this)}),o=!0}),e(r).on("refreshCustomValidityRules",u)},9)})})(),function(){var s=t.addCustomValidityRule,o=function(e){return r.getElementById(e)};s("partialPattern",function(e,t,n){return n=n.partialPattern,t&&n?!RegExp("("+n+")","i").test(t):undefined},"This format is not allowed here."),s("tooShort",function(e,t,n){return t&&n.minlength?n.minlength>t.length:undefined},"Entered value is too short.");var u={};s("group-required",function(n){var i=n.name;if(i&&"checkbox"===n.type&&e(n).hasClass("group-required")){var s=e(n.form&&n.form[i]||r.getElementsByName(i)),o=s.filter(":checked:enabled");return u[i]&&clearTimeout(u[i]),u[i]=setTimeout(function(){s.addClass("group-required").unbind("click.groupRequired").bind("click.groupRequired",function(){s.filter(".group-required").each(function(){t.refreshCustomValidityRules(this)})})},9),!o[0]}},"Please check one of these checkboxes."),s("creditcard",function(t,n){if(n&&e(t).hasClass("creditcard-input")){if(n=n.replace(/\-/g,""),n!=1*n)return!0;for(var r,i=n.length,s=0,o=1;i--;)r=parseInt(n.charAt(i),10)*o,s+=r-9*(r>9),o^=3;return!(0===s%10&&s>0)}},"Please enter a valid credit card number");var a={prop:"value","from-prop":"value",toggle:!1},f=function(t){return e(t.form[t.name]).filter('[type="radio"]')};t.ready("form-validation",function(){t.modules&&(f=t.modules["form-core"].getGroupElements||f)}),s("dependent",function(n,i,s){if(s=s.dependentValidation){var o,u=function(t){var r=e.prop(s.masterElement,s["from-prop"]);o&&(r=-1!==e.inArray(r,o)),s.toggle&&(r=!r),e.prop(n,s.prop,r),t&&e(n).getShadowElement().filter(".user-error, .user-success").trigger("refreshvalidityui")};if(!s._init||!s.masterElement){if("string"==typeof s&&(s={from:s}),s.masterElement=r.getElementById(s.from)||r.getElementsByName(s.from||[])[0],!s.masterElement||!s.masterElement.form)return;/radio|checkbox/i.test(s.masterElement.type)?(s["from-prop"]||(s["from-prop"]="checked"),s.prop||"checked"!=s["from-prop"]||(s.prop="disabled")):s["from-prop"]||(s["from-prop"]="value"),0===s["from-prop"].indexOf("value:")&&(o=s["from-prop"].replace("value:","").split("||"),s["from-prop"]="value"),s=e.data(n,"dependentValidation",e.extend({_init:!0},a,s)),"value"!==s.prop||o?e("radio"===s.masterElement.type&&f(s.masterElement)||s.masterElement).bind("change",u):e(s.masterElement).bind("change",function(){t.refreshCustomValidityRules(n),e(n).getShadowElement().filter(".user-error, .user-success").trigger("refreshvalidityui")})}return"value"!=s.prop||o?(u(),""):e.prop(s.masterElement,"value")!=i}},"The value of this field does not repeat the value of the other field"),n.JSON&&s("ajaxvalidate",function(n,r,i){if(r&&i.ajaxvalidate){var s;if(!i.remoteValidate){"string"==typeof i.ajaxvalidate?i.ajaxvalidate={url:i.ajaxvalidate,depends:e([])}:i.ajaxvalidate.depends=i.ajaxvalidate.depends?e(i.ajaxvalidate.depends).map(o):e([]),i.ajaxvalidate.depends.on("refreshCustomValidityRules",function(){t.refreshCustomValidityRules(n)}),s=i.ajaxvalidate;var u={ajaxLoading:!1,restartAjax:!1,message:"async",cache:{},update:function(t){this.ajaxLoading?this.restartAjax=t:(this.restartAjax=!1,this.ajaxLoading=!0,e.ajax(e.extend({},s,{url:s.url,dataType:"json",depData:t,data:s.fullForm?e(n).jProp("form").serializeArray():t,success:this.getResponse,complete:this._complete})))},_complete:function(){u.ajaxLoading=!1,u.restartAjax&&this.update(u.restartAjax),u.restartAjax=!1},getResponse:function(r){t.refreshCustomValidityRules,r?"string"==typeof r&&(r=JSON.parse(r)):r={message:"",valid:!0},u.message="message"in r?r.message:!r.valid,u.lastMessage=u.message,u.blockUpdate=!0,e(n).triggerHandler("refreshvalidityui"),u.message="async",u.blockUpdate=!1},getData:function(){var t;return t={},t[e.prop(n,"name")||e.prop(n,"id")]=e(n).val(),s.depends.each(function(){return e(this).is(":invalid")?(t=!1,!1):(t[e.prop(this,"name")||e.prop(this,"id")]=e(this).val(),undefined)}),t},getTempMessage:function(){var e,t,n="async";if(i.remoteValidate.blockUpdate)n=u.message;else if(e=this.getData()){try{t=JSON.stringify(e)}catch(r){}t===this.lastString?n=this.ajaxLoading?"async":this.lastMessage:(this.lastString=t,this.lastMessage="async",clearTimeout(i.remoteValidate.timer),i.remoteValidate.timer=setTimeout(function(){i.remoteValidate.update(e)},9))}else n="";return n}};i.remoteValidate=u}return i.remoteValidate.getTempMessage()}},"remote error")}()});